[gd_scene load_steps=17 format=3 uid="uid://b20v3rei234bf"]

[ext_resource type="PackedScene" uid="uid://cnop5virgojgf" path="res://scenes/slayer.tscn" id="1_kbm35"]
[ext_resource type="PackedScene" uid="uid://s8kef0o0usau" path="res://scenes/enemy.tscn" id="2_d8oxa"]
[ext_resource type="PackedScene" uid="uid://mvrssal33hq2" path="res://scenes/environment/floor.tscn" id="2_gsdl0"]
[ext_resource type="PackedScene" uid="uid://ta74dvyvcwur" path="res://scenes/item.tscn" id="4_ubhjr"]
[ext_resource type="Texture2D" uid="uid://dxvf28fhj52b6" path="res://textures/environment/cieling.png" id="4_uos00"]
[ext_resource type="PackedScene" uid="uid://thafqip6h08" path="res://scenes/environment/level_switch_trigger.tscn" id="5_84iqa"]
[ext_resource type="PackedScene" uid="uid://c0ob7fqfx2cb6" path="res://scenes/hud.tscn" id="5_ywngn"]
[ext_resource type="PackedScene" uid="uid://dnold2k2m4yw8" path="res://scenes/environment/wall.tscn" id="6_rpow5"]
[ext_resource type="PackedScene" uid="uid://b7wcpg8rqqcff" path="res://scenes/environment/door.tscn" id="7_1x4wm"]
[ext_resource type="Resource" uid="uid://dwfofvtp7u6k3" path="res://items/red_key.tres" id="7_20r0r"]
[ext_resource type="Resource" uid="uid://cytx6k64f3ykm" path="res://items/ammo.tres" id="8_1mb50"]
[ext_resource type="PackedScene" uid="uid://dg5bbht75e2g5" path="res://scenes/environment/painting.tscn" id="8_xy616"]

[sub_resource type="PanoramaSkyMaterial" id="PanoramaSkyMaterial_xclbc"]
panorama = ExtResource("4_uos00")
filter = false

[sub_resource type="Sky" id="Sky_ayeqc"]
sky_material = SubResource("PanoramaSkyMaterial_xclbc")

[sub_resource type="Environment" id="Environment_pxyiw"]
background_mode = 2
background_color = Color(0.454524, 0.454524, 0.454524, 1)
sky = SubResource("Sky_ayeqc")
ambient_light_source = 2
ambient_light_color = Color(1, 1, 1, 1)

[sub_resource type="NavigationMesh" id="NavigationMesh_sditw"]
vertices = PackedVector3Array(6.5, 0.5, -25, 6.75, 0.5, -24, 7.5, 0.5, -24, 7.5, 0.5, -55.5, -7.5, 0.5, -24, -6.5, 0.5, -24, -6.25, 0.5, -25, -7.5, 0.5, -55.5, -1.5, 0.5, -25, -1.25, 0.5, -24, 1.5, 0.5, -24, 1.75, 0.5, -25, 7.5, 0.5, -55.5, -7.5, 0.5, -55.5, -7.5, 0.5, -55.5, -6.25, 0.5, -25, -1.5, 0.5, -25, 1.75, 0.5, -25, 6.5, 0.5, -25, 7.5, 0.5, -55.5, 7.5, 0.5, -24, 6.75, 0.5, -24, 6.25, 0.5, -22.75, 7.5, 0.5, 7.5, -6.25, 0.5, -22.75, -6.5, 0.5, -24, -7.5, 0.5, -24, -7.5, 0.5, 7.5, 1.75, 0.5, -22.75, 1.5, 0.5, -24, -1.25, 0.5, -24, -1.75, 0.5, -22.75, -7.5, 0.5, 7.5, 7.5, 0.5, 7.5, 7.5, 0.5, 7.5, 6.25, 0.5, -22.75, 1.75, 0.5, -22.75, -1.75, 0.5, -22.75, -6.25, 0.5, -22.75, -7.5, 0.5, 7.5)
polygons = [PackedInt32Array(1, 0, 2), PackedInt32Array(2, 0, 3), PackedInt32Array(5, 4, 6), PackedInt32Array(6, 4, 7), PackedInt32Array(9, 8, 10), PackedInt32Array(10, 8, 11), PackedInt32Array(11, 8, 12), PackedInt32Array(12, 8, 13), PackedInt32Array(16, 15, 14), PackedInt32Array(19, 18, 17), PackedInt32Array(21, 20, 22), PackedInt32Array(22, 20, 23), PackedInt32Array(25, 24, 26), PackedInt32Array(26, 24, 27), PackedInt32Array(29, 28, 30), PackedInt32Array(30, 28, 31), PackedInt32Array(31, 28, 33), PackedInt32Array(31, 33, 32), PackedInt32Array(36, 35, 34), PackedInt32Array(39, 38, 37)]
agent_height = 2.0

[node name="TestLevel" type="Node3D"]

[node name="Slayer" parent="." instance=ExtResource("1_kbm35")]

[node name="Enemy" parent="." instance=ExtResource("2_d8oxa")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, -36)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_pxyiw")

[node name="HUD" parent="." node_paths=PackedStringArray("player") instance=ExtResource("5_ywngn")]
player = NodePath("../Slayer")

[node name="Environment" type="Node3D" parent="."]

[node name="LevelSwitchRoom" type="Node3D" parent="Environment"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -42)

[node name="Door" parent="Environment/LevelSwitchRoom" instance=ExtResource("7_1x4wm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 2)
key_id = "red_key"

[node name="LevelSwitchTrigger" parent="Environment/LevelSwitchRoom" instance=ExtResource("5_84iqa")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, 0)

[node name="Painting" parent="Environment" instance=ExtResource("8_xy616")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 2, -23.49)

[node name="Key" parent="Environment" instance=ExtResource("4_ubhjr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, -7)
info = ExtResource("7_20r0r")

[node name="Ammo" parent="Environment" instance=ExtResource("4_ubhjr")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.5, -3)
info = ExtResource("8_1mb50")

[node name="Door" parent="Environment" instance=ExtResource("7_1x4wm")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 2, -24)
key_id = "red_key"

[node name="NavigationRegion3D" type="NavigationRegion3D" parent="Environment"]
navigation_mesh = SubResource("NavigationMesh_sditw")

[node name="Wall" parent="Environment/NavigationRegion3D" instance=ExtResource("6_rpow5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4, 2, -24)

[node name="Wall3" parent="Environment/NavigationRegion3D" instance=ExtResource("6_rpow5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 4, 2, -24)

[node name="Floor16" parent="Environment/NavigationRegion3D" instance=ExtResource("2_gsdl0")]

[node name="Floor17" parent="Environment/NavigationRegion3D" instance=ExtResource("2_gsdl0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -16)

[node name="Floor18" parent="Environment/NavigationRegion3D" instance=ExtResource("2_gsdl0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -32)

[node name="Floor19" parent="Environment/NavigationRegion3D" instance=ExtResource("2_gsdl0")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -48)
